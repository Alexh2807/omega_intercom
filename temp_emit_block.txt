  void _emitPeers() {
    if (_mode == ConnectionMode.internet) {
      _peersC.add(_netPeers.values.toList(growable: false));
      return;
    }
    if (_mode == ConnectionMode.internet) {
      // Publie une liste factice repr√©sentant les pairs distants (n-1 car on s'inclut dans _internetPeerCount)
      final countOthers = (_internetPeerCount - 1).clamp(0, 9999);
      final list = List<PeerInfo>.generate(countOthers, (i) => PeerInfo(
        id: 'remote${i+1}',
        name: 'Participant ${i + 1}',
        address: _serverAddress ?? InternetAddress.anyIPv4,
        port: _serverPort,
        isServer: false,
      ));
      _peersC.add(list);
    } else {
      _peersC.add(_lanPeers.values.toList(growable: false));
    }
  }
}
